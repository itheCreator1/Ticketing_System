@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Typography */
@layer base {
  body {
    @apply text-base text-gray-900 leading-normal;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-gray-900;
  }
}

/* Custom component classes */
@layer components {
  /* === BUTTONS === */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-sm { @apply px-3 py-1.5 text-xs; }
  .btn-lg { @apply px-6 py-3 text-base; }

  .btn-primary {
    @apply bg-bs-primary text-white hover:bg-blue-700 focus:ring-bs-primary;
  }

  .btn-outline-primary {
    @apply border-2 border-bs-primary text-bs-primary bg-white hover:bg-bs-primary hover:text-white focus:ring-bs-primary;
  }

  .btn-secondary {
    @apply bg-neutral-100 text-neutral-700 hover:bg-neutral-200 focus:ring-neutral-500;
  }

  .btn-outline-secondary {
    @apply border-2 border-neutral-300 text-neutral-700 bg-white hover:bg-neutral-50 focus:ring-neutral-500;
  }

  .btn-success {
    @apply bg-bs-success text-white hover:bg-green-700 focus:ring-bs-success;
  }

  .btn-outline-success {
    @apply border-2 border-bs-success text-bs-success bg-white hover:bg-bs-success hover:text-white focus:ring-bs-success;
  }

  .btn-danger {
    @apply bg-bs-danger text-white hover:bg-red-700 focus:ring-bs-danger;
  }

  .btn-outline-danger {
    @apply border-2 border-bs-danger text-bs-danger bg-white hover:bg-bs-danger hover:text-white focus:ring-bs-danger;
  }

  .btn-warning {
    @apply bg-bs-warning text-gray-900 hover:bg-yellow-500 focus:ring-bs-warning;
  }

  .btn-outline-warning {
    @apply border-2 border-bs-warning text-yellow-700 bg-white hover:bg-bs-warning hover:text-gray-900 focus:ring-bs-warning;
  }

  .btn-info {
    @apply bg-bs-info text-gray-900 hover:bg-cyan-600 hover:text-white focus:ring-bs-info;
  }

  .btn-outline-info {
    @apply border-2 border-bs-info text-bs-info bg-white hover:bg-bs-info hover:text-gray-900 focus:ring-bs-info;
  }

  /* === CARDS === */
  .card {
    @apply bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden;
  }

  .card-body {
    @apply p-6;
  }

  .card-header {
    @apply px-6 py-4 bg-neutral-50 border-b border-neutral-200;
  }

  .card-footer {
    @apply px-6 py-4 bg-neutral-50 border-t border-neutral-200;
  }

  /* === FORMS === */
  .form-label {
    @apply block text-sm font-medium text-neutral-700 mb-1;
  }

  .form-input {
    @apply w-full px-3 py-2 text-sm border border-neutral-300 rounded-md bg-white transition-colors focus:outline-none focus:ring-2 focus:ring-bs-primary focus:border-bs-primary disabled:bg-neutral-100 disabled:cursor-not-allowed;
  }

  .form-select {
    @apply w-full px-3 py-2 text-sm border border-neutral-300 rounded-md bg-white transition-colors focus:outline-none focus:ring-2 focus:ring-bs-primary focus:border-bs-primary disabled:bg-neutral-100 disabled:cursor-not-allowed;
  }

  .form-textarea {
    @apply w-full px-3 py-2 text-sm border border-neutral-300 rounded-md bg-white transition-colors focus:outline-none focus:ring-2 focus:ring-bs-primary focus:border-bs-primary disabled:bg-neutral-100 disabled:cursor-not-allowed resize-y;
  }

  .form-checkbox {
    @apply w-4 h-4 text-bs-primary border-neutral-300 rounded focus:ring-bs-primary;
  }

  /* === BADGES === */
  .badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-md;
  }

  .badge-primary { @apply bg-blue-100 text-blue-800; }
  .badge-secondary { @apply bg-neutral-100 text-neutral-700; }
  .badge-success { @apply bg-green-100 text-green-800; }
  .badge-danger { @apply bg-red-100 text-red-800; }
  .badge-warning { @apply bg-yellow-100 text-yellow-800; }
  .badge-info { @apply bg-cyan-100 text-cyan-800; }
  .badge-light { @apply bg-neutral-50 text-neutral-600 border border-neutral-200; }

  /* === ALERTS === */
  .alert {
    @apply relative px-4 py-3 rounded-md mb-4 border;
  }

  .alert-success { @apply bg-green-50 border-green-200 text-green-800; }
  .alert-danger { @apply bg-red-50 border-red-200 text-red-800; }
  .alert-warning { @apply bg-yellow-50 border-yellow-200 text-yellow-800; }
  .alert-info { @apply bg-blue-50 border-blue-200 text-blue-800; }

  /* === TABLES === */
  .table {
    @apply w-full text-sm;
  }

  .table thead {
    @apply bg-neutral-50 border-b-2 border-neutral-200;
  }

  .table thead th {
    @apply px-4 py-3 text-left font-semibold text-neutral-700 uppercase text-xs tracking-wider;
  }

  .table tbody tr {
    @apply border-b border-neutral-200 hover:bg-neutral-50 transition-colors;
  }

  .table tbody td {
    @apply px-4 py-3 text-neutral-900;
  }

  /* === EXISTING CUSTOM COMPONENTS === */
  /* Password Strength Indicator */
  .password-strength {
    @apply mt-2 font-semibold text-sm;
  }
  .password-strength.weak {
    @apply text-bs-danger;
  }
  .password-strength.medium {
    @apply text-bs-warning;
  }
  .password-strength.strong {
    @apply text-bs-success;
  }

  /* Success Icon */
  .success-icon {
    @apply w-20 h-20 mx-auto mb-6 bg-bs-success text-white text-5xl rounded-full inline-block text-center leading-[80px];
  }

  /* Status Badges */
  .badge-status {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-md;
  }
  .badge-status-open {
    background-color: var(--status-open-bg);
    color: var(--status-open-text);
    border: 1px solid var(--status-open-border);
  }
  .badge-status-progress {
    background-color: var(--status-in_progress-bg);
    color: var(--status-in_progress-text);
    border: 1px solid var(--status-in_progress-border);
  }
  .badge-status-waiting-admin {
    background-color: var(--status-waiting_on_admin-bg);
    color: var(--status-waiting_on_admin-text);
    border: 1px solid var(--status-waiting_on_admin-border);
  }
  .badge-status-waiting-dept {
    background-color: var(--status-waiting_on_department-bg);
    color: var(--status-waiting_on_department-text);
    border: 1px solid var(--status-waiting_on_department-border);
    animation: pulse-subtle 2s ease-in-out infinite;
  }
  .badge-status-closed {
    background-color: var(--status-closed-bg);
    color: var(--status-closed-text);
    border: 1px solid var(--status-closed-border);
  }

  /* Priority Badges */
  .badge-priority {
    @apply inline-flex items-center gap-2 px-3 py-1.5 text-sm font-semibold rounded-md;
  }
  .badge-priority-critical {
    background-color: var(--priority-critical-bg);
    color: var(--priority-critical-text);
    border: 1px solid var(--priority-critical-border);
    box-shadow: var(--shadow-glow);
  }
  .badge-priority-high {
    background-color: var(--priority-high-bg);
    color: var(--priority-high-text);
    border: 1px solid var(--priority-high-border);
  }
  .badge-priority-medium {
    background-color: var(--priority-medium-bg);
    color: var(--priority-medium-text);
    border: 1px solid var(--priority-medium-border);
  }
  .badge-priority-low {
    background-color: var(--priority-low-bg);
    color: var(--priority-low-text);
    border: 1px solid var(--priority-low-border);
  }
  .badge-priority-unset {
    background-color: var(--priority-unset-bg);
    color: var(--priority-unset-text);
    border: 1px solid var(--priority-unset-border);
  }

  /* Comments */
  .comment {
    @apply border-l-4 border-bs-primary p-4 mb-4 bg-bs-light rounded-md;
  }
  .comment-header {
    @apply flex justify-between items-start flex-wrap mb-2;
  }
  .comment-meta {
    @apply text-sm text-bs-secondary;
  }
  .comment-content {
    @apply whitespace-pre-wrap leading-relaxed;
  }
  .comment-snippet {
    @apply max-w-[250px] text-sm text-bs-secondary whitespace-normal leading-snug;
  }

  /* Ticket Styling */
  .ticket-description {
    @apply whitespace-pre-wrap leading-relaxed;
  }
  .ticket-title {
    @apply max-w-[300px] overflow-hidden text-ellipsis whitespace-nowrap;
  }
  .ticket-stats {
    @apply mt-4 px-4 py-3 bg-bs-light rounded-md text-sm text-bs-secondary;
  }
  .ticket-row {
    @apply transition-colors duration-200 hover:bg-blue-50;
  }
  .ticket-link {
    @apply text-bs-dark no-underline font-medium hover:text-bs-primary hover:underline;
  }

  /* Quick Stats */
  .quick-stats {
    @apply flex gap-4 flex-wrap mt-2;
  }
  .stat-badge {
    @apply inline-flex items-center gap-2 px-4 py-2 bg-bs-light rounded-lg text-sm font-semibold;
  }
  .stat-open { @apply border-l-4 border-bs-primary; }
  .stat-progress { @apply border-l-4 border-bs-info; }
  .stat-waiting { @apply border-l-4 border-bs-warning; }

  /* === ACCESSIBILITY: FOCUS-VISIBLE STATES === */
  /* Provides visible keyboard focus indicators for all interactive elements */

  /* Buttons */
  .btn:focus-visible {
    outline: 2px solid var(--color-blue-500);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.2);
  }

  /* Form inputs */
  .form-input:focus-visible,
  .form-select:focus-visible,
  .form-textarea:focus-visible {
    outline: 2px solid var(--color-blue-500);
    outline-offset: 0;
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
  }

  /* Links */
  a:focus-visible {
    outline: 2px solid var(--color-blue-500);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  /* Badges (when clickable/interactive) */
  .badge:focus-visible {
    outline: 2px solid var(--color-blue-500);
    outline-offset: 2px;
  }

  /* Remove default browser outline */
  *:focus {
    outline: none;
  }

  /* Keep focus-visible for keyboard navigation only */
  *:focus-visible {
    /* Styles defined above for specific elements */
  }

  /* Empty State */
  .empty-state {
    @apply border-2 border-dashed border-gray-300 bg-gradient-to-br from-bs-light to-white;
  }
  .empty-state-icon {
    @apply text-6xl text-bs-secondary opacity-50;
  }

  /* Error Page */
  .error-code {
    @apply text-8xl font-bold text-bs-primary shadow-[2px_2px_4px_rgba(0,0,0,0.1)];
  }
  .error-icon {
    @apply animate-gentle-pulse;
  }

  /* Troubleshooting Panel */
  .troubleshooting-section {
    @apply mb-6;
  }

  /* Responsive */
  @media (max-width: 768px) {
    /* Reduce badge sizes on mobile for better readability */
    .badge-status,
    .badge-priority {
      font-size: var(--font-size-xs);
      padding: var(--spacing-1) var(--spacing-2);
    }

    .stat-badge {
      font-size: var(--font-size-xs);
      padding: var(--spacing-1) var(--spacing-3);
    }

    /* Reduce icon sizes on mobile */
    .empty-state-icon {
      font-size: 3rem;
    }

    .error-code {
      font-size: 3rem;
    }
  }
}
